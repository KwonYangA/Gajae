<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="hotel">

	<select id="hotellist" parameterType="map" resultType="com.gajae.demo.dto.PropertyDTO">
		SELECT
		P_ID ,
		P_TITLE ,
		P_PHOTO ,
		P_STAR ,
		P_POSTAL ,
		P_TEL ,
		P_ADDRESS ,
		P_OVERVIEW ,
		P_SCALE ,
		P_CHECKIN ,
		P_CHECKOUT ,
		P_GUIDE ,
		P_REFUND ,
		P_STATUS ,
		P_MAPY ,
		P_MAPX ,
		P_HIDERDATE ,
		P_CHANGE_DATE
		FROM
		GAJAE.PROPERTIES
		<where>
			<if test='P_ID!=null and P_ID.length()>0'> AND P_ID = #{P_ID} </if>
			<if test='ADDRESS!=null and ADDRESS.length()>0'> AND P_ADDRESS LIKE '%'||#{ADDRESS}||'%'
			</if>
		</where>
	</select>

	<!-- <select id="hotellist" parameterType="map" resultType="map"> SELECT 
		R.P_ID, P.P_PRICE, P.P_REFUND, P.P_MAPY, P.P_MAPX, P.P_ROOMCOUNT, P.P_TITLE, 
		P.P_ADDRESS, P.P_OVERVIEW, P.P_PARKING, P.P_SCALE, P.P_MAXPEOPLE, P.P_CHECKIN, 
		P.P_CHECKOUT, P.P_PARKING, P.P_KITCHEN, P.P_EXTRA, P.P_DETAIL, R.R_ROOMTYPE_NM 
		FROM PROPERTIES P,ROOM_TYPES R WHERE P.P_ID = R.P_ID <if test='P_ID!=null 
		and P_ID.length()>0'> AND R.P_ID = #{P_ID} </if> </select> -->

	<select id="roomtypelist" parameterType="map" resultType="com.gajae.demo.dto.P_RoomTypeDTO">
		SELECT
		ROOM_TYPE,
		ROOM_PRICE,
		ROOM_CAPACITY,
		ROOM_OPTION
		FROM P_ROOMTYPE
		<where>
			<if test='P_ID!=null and P_ID.length()>0'>
				AND P_ID = #{P_ID}
			</if>
		</where>
	</select>
</mapper>