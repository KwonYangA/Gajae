<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">
	<select id="signIn" parameterType="map" resultType="map">
		SELECT USER_ID
		FROM MBLOG.USER2
		WHERE USER_ID = #{user_id}
		AND USER_PW = #{user_pw}
	</select>
	<select id="getUser" parameterType="map" resultType="map">
		SELECT
		USER_NUMBER,
		USER_ID,
		USER_NAME,
		USER_NICKNAME,
		USER_EMAIL,
		USER_MOBILE,
		USER_BIRTH,
		USER_ADDRESS,
		USER_GENDER,
		USER_STATUS,
		USER_AUTH,
		USER_HIREDATE
		FROM MBLOG.USER2
	</select>
	<select id="idCheck" parameterType="map" resultType="map">
		SELECT
		USER_ID
		FROM MBLOG.USER2
		WHERE USER_ID = #{USER_ID}
	</select>
	<select id="nicknameCheck" parameterType="map" resultType="map">
		SELECT
		USER_NICKNAME
		FROM MBLOG.USER2
		WHERE USER_NICKNAME =
		#{USER_NICKNAME}
	</select>
	<update id="userDeactivate">
		UPDATE MBLOG.USER2
		SET
		USER_STATUS = 0
		<if test="USER_ID != null">
			,USER_ID = #{USER_ID}
		</if>
	</update>
	<insert id="signup">INSERT INTO MBLOG.USER2
		(
		USER_ID ,
		USER_NUMBER ,
		USER_PW ,
		USER_NAME ,
		USER_NICKNAME ,
		USER_EMAIL ,
		USER_MOBILE ,
		USER_BIRTH ,
		USER_AUTH,
		USER_STATUS
		)
		VALUES(
		#{USER_ID},
		USER_NUMBER.NEXTVAL,
		#{USER_PW},
		#{USER_NAME},
		#{USER_NICKNAME},
		#{USER_EMAIL},
		#{USER_MOBILE},
		#{USER_BIRTH},
		#{USER_AUTH},
		#{USER_STATUS}
		)
	</insert>
	<update id="userUpdate">
		UPDATE MBLOG.USER2
		SET USER_NAME = #{USER_NAME},
		USER_NICKNAME = #{USER_NICKNAME},
		WHERE
		USER_ID = #{USER_ID}
	</update>
	<update id="nameUpdate">
		UPDATE MBLOG.USER2
		SET USER_NAME = #{USER_NAME}
		WHERE
		USER_ID = #{USER_ID}
	</update>
	<update id="nicknameUpdate">
		UPDATE MBLOG.USER2
		SET USER_NICKNAME =
		#{USER_NICKNAME}
		WHERE
		USER_ID = #{USER_ID}
	</update>
	<update id="emailUpdate">
		UPDATE MBLOG.USER2
		SET USER_EMAIL = #{USER_EMAIL}
		WHERE
		USER_ID = #{USER_ID}
	</update>
	<update id="mobileUpdate">
		UPDATE MBLOG.USER2
		SET USER_MOBILE = #{USER_MOBILE}
		WHERE
		USER_ID = #{USER_ID}
	</update>
	<update id="genderUpdate">
		UPDATE MBLOG.USER2
		SET USER_GENDER = #{USER_GENDER}
		WHERE
		USER_ID = #{USER_ID}
	</update>
	<update id="addressUpdate">
		UPDATE MBLOG.USER2
		SET USER_ADDRESS = #{USER_ADDRESS}
		WHERE
		USER_ID = #{USER_ID}
	</update>
</mapper>