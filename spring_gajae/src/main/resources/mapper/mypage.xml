<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mypage">
	
	<select id="myReservation" parameterType="map" resultType="map">
		SELECT
		PAY.PAY_NUMBER,
		PAY.MERCHANT_NAME,
		PAY.PAID_AMOUNT,
		PAY.PG_PROVIDER,
		PAY.PAID_AT,
		PAY.RECEIPT_URL,
		PAY.STATUS,
		PAY.CURRENCY,
		RES.USER_ID,
		RES.R_DATE,
		RES.R_START_DATE,
		RES.R_END_DATE,
		RES.R_NAME,
		RES.R_MOBILE,
		RES.R_EMAIL,
		RES.R_PEOPLE,
		RES.R_ETA,
		RES.R_PS,
		RES.R_STATE,
		PRO.P_ID,
		PRO.P_TITLE,
		PRO.ROOM_ID,
		PRO.P_STAR,
		PRO.P_POSTAL,
		PRO.P_TEL,
		PRO.P_ADDRESS,
		PRO.P_CHECKIN,
		PRO.P_CHECKOUT,
		PRO.P_MAPY,
		PRO.P_MAPX,
		PRO.HOST_BUSINESS_NUM,
		RT.ROOM_TYPE,
		RT.ROOM_OPTION,
		RT.ROOM_CAPACITY
		FROM PAYMENT PAY
		INNER JOIN RESERVATIONS RES ON PAY.PAY_NUMBER = RES.PAY_NUMBER
		INNER JOIN PROPERTIES PRO ON RES.P_ID = PRO.P_ID
		INNER JOIN P_ROOMTYPE RT ON RES.ROOM_ID = RT.ROOM_ID
		WHERE RES.USER_ID = #{USER_ID}
		AND PRO.P_ID = #{P_ID} AND PRO.ROOM_ID = #{ROOM_ID}
</select>


	<select id="myResFirst" parameterType="map" resultType="map">
	SELECT * FROM GAJAE.RESERVATIONS WHERE USER_ID=#{USER_ID}
	</select>
	
</mapper>